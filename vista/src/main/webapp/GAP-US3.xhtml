<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <link href="https://stackpath.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
        <link href="resources/style.css" rel="stylesheet" type="text/css"/>
        <style>
            .panel-body-custom {
                position: absolute;
                top: 100px;
                bottom: 0;
                left: 0;
                right: 0;
                height: 90%;
                width: 95%;
                padding: 25px;
                margin: auto;
                border-radius: 5px;
                box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2),
                0 6px 20px 0 rgba(0, 0, 0, 0.19);
                background-color: white;
            }
        </style>
    </h:head>
    <h:body>
        <div class="panel">
            <div class="panel-header">
                <div class="Titulo">
                    <p:button value="Regresar" outcome="indexSAUAP.xhtml" />
                    <h2>Asignación de Unidad de Aprendizaje a profesores</h2>
                </div>
                <div class="Enlaces">
                    <p:button value="Cerrar sesión" outcome="loginSAUAP.xhtml" />
                </div>
            </div>
        </div>
        <div class="row">
                <!-- mensajes de validación / confirmación -->
                <p:messages id="messages" showDetail="true" closable="true" />

                    <div class="panel-body-custom">
                        <p:panelGrid columns="6" layout="grid">
                            <p:column>
                                <p:inputText class="form-control"
                                             placeholder="ID UA"
                                             value="#{asignacionBeanUI.idUA}" />
                                <p:commandButton value="Buscar"
                                                 action="#{asignacionBeanUI.consultaUA}"
                                                 update=":comboBoxUA"/>
                            <div class="ComboBox">
                                <h:form id="comboBoxUA">
                                    <p:selectOneMenu value="#{asignacionBeanUI.idProfesor}">
                                        <f:selectItems value="#{asignacionBeanUI.profesores}" var="u" itemLabel="#{u.idProfesor.nombre} #{u.idProfesor.apellidoP} #{u.idProfesor.apellidoM}" itemValue="#{u.idProfesor.id}" />
                                        <p:ajax listener="#{asignacionBeanUI.consultaProfe}" update=":formModificarProfesorUA"/>
                                    </p:selectOneMenu>
                                </h:form>
                            </div>
                            </p:column>
                        <h:form id="formModificarProfesorUA">
                        </h:form>
                        </p:panelGrid>
                    </div>
        </div>
                        <!-- Botón Guardar -->
                        <p:commandButton value="Modificar"
                                         action="#{asignacionBeanUI.modificar}"
                                         update="messages"/>
    </h:body>

</html>