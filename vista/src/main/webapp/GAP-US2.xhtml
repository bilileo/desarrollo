<?xml version='1.0' encoding='UTF-8' ?>
    <!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml"
          xmlns:h="http://xmlns.jcp.org/jsf/html"
          xmlns:f="http://xmlns.jcp.org/jsf/core"
          xmlns:p="http://primefaces.org/ui"
          xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <h:head>
        <link href="https://stackpath.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
        <link href="resources/style.css" rel="stylesheet" type="text/css"/>
    </h:head>

    <h:body>
        <div class="row">

                <div class="panel-header">
                    <div class="Titulo">
                        <p:button value="Regresar" outcome="ALP-US1.xhtml" />
                        <h2>Consulta general de asignaci√≥n por profesor.</h2>
                    </div>
                </div>

                <!-- Contenedor PARA TABLA -->
                    <p:dataTable value="#{profeBeanUI.profesores}" var="p" <!-- p = profesor -->
                                 scrollable="true" scrollHeight="400"
                                 styleClass="custom-table">

                        <p:column headerText="ID">
                            #{p.id}
                        </p:column>

                        <p:column headerText="RFC">
                            #{p.rfc}
                        </p:column>

                        <p:column headerText="Nombre completo">
                            #{p.nombre} #{p.apellidoP} #{p.apellidoM}
                        </p:column>

                        <p:column headerText="Materia asignada">
                            <h:panelGroup rendered="#{not empty p.asignados}"> <!-- rendered es condicional -->
                                <ul>
                                    <ui:repeat value="#{p.asignados}" var="a">
                                        <li>#{a.idUa.nombre}</li>
                                    </ui:repeat>
                                </ul>
                            </h:panelGroup>

                            <!-- Mensaje si no hay materias -->
                            <h:outputText value="Sin materias asignadas" rendered="#{empty p.asignados}" style="color: gray; font-style: italic;" />
                        </p:column>


                    </p:dataTable>


        </div>
    </h:body>
    </html>
